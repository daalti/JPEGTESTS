#print a job with known page count
{
	NAME "3.2.1: Print-Job Operation"
	OPERATION Print-Job
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR name requesting-user-name $user
		
	FILE $filename

	STATUS successful-ok

	EXPECT job-id OF-TYPE integer COUNT 1 IN-GROUP job-attributes-tag
	       WITH-VALUE >0
	EXPECT job-uri

}
{
	NAME "Wait For Print-Job To Complete."	
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR name requesting-user-name $user
	ATTR keyword requested-attributes
	    job-id,job-state-reasons,job-originating-user-name,job-state,job-uuid,job-printer-up-time
	
	
	STATUS successful-ok
	EXPECT job-state OF-TYPE enum WITH-VALUE >6 REPEAT-NO-MATCH REPEAT-LIMIT 300
	EXPECT job-state OF-TYPE enum WITH-VALUE 9
	EXPECT job-state-reasons OF-TYPE keyword IN-GROUP job-attributes-tag WITH-VALUE "job-completed-successfully"
	EXPECT job-printer-up-time OF-TYPE integer COUNT 1 IN-GROUP job-attributes-tag WITH-VALUE >0



}
{
	NAME "job-printer-up-time in Job-Attributes"
	
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR keyword requested-attributes time-at-completed

	STATUS successful-ok
	
	EXPECT time-at-completed OF-TYPE integer IN-GROUP Job-Attributes-tag WITH-VALUE ">0"
	EXPECT attributes-charset OF-TYPE charset WITH-VALUE utf-8
    EXPECT attributes-natural-language OF-TYPE naturalLanguage WITH-VALUE en
	
}

{
	
	NAME "3.2.1: print-Job Operation"
	OPERATION print-Job
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR name requesting-user-name $user
	ATTR name job-name $filename
	ATTR name document-name $filename
	ATTR keyword job-mandatory-attributes copies	
	GROUP job-attributes-tag
	
	FILE $filename    
	STATUS successful-ok
	EXPECT job-id OF-TYPE integer COUNT 1 IN-GROUP job-attributes-tag
	       WITH-VALUE >0
	
}
{
	NAME "time-at-creation in Job-Attributes"
	
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR keyword requested-attributes time-at-creation

	STATUS successful-ok
	
	EXPECT time-at-creation OF-TYPE integer IN-GROUP Job-Attributes-tag WITH-VALUE ">0"
	EXPECT attributes-charset OF-TYPE charset WITH-VALUE utf-8
    EXPECT attributes-natural-language OF-TYPE naturalLanguage WITH-VALUE en
	
}

{
	NAME "Wait For Print-Job To Complete."	
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR name requesting-user-name $user
	ATTR keyword requested-attributes
	    job-id,job-state-reasons,job-originating-user-name,job-state,job-uuid,job-printer-up-time
	
	
	STATUS successful-ok
	EXPECT job-state OF-TYPE enum WITH-VALUE >6 REPEAT-NO-MATCH REPEAT-LIMIT 300
	EXPECT job-state OF-TYPE enum WITH-VALUE 9
	EXPECT job-state-reasons OF-TYPE keyword IN-GROUP job-attributes-tag WITH-VALUE "job-completed-successfully"
	EXPECT job-printer-up-time OF-TYPE integer COUNT 1 IN-GROUP job-attributes-tag WITH-VALUE >0



}

{
	
	NAME "3.2.1: print-Job Operation"
	OPERATION print-Job
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR name requesting-user-name $user
	ATTR name job-name $filename
	ATTR name document-name $filename
	ATTR keyword job-mandatory-attributes copies	
	GROUP job-attributes-tag
	
	FILE $filename    
	STATUS successful-ok
	EXPECT job-id OF-TYPE integer COUNT 1 IN-GROUP job-attributes-tag
	       WITH-VALUE >0
	
}
{
	NAME "time-at-processing in Job-Attributes"
	
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR keyword requested-attributes time-at-processing

	STATUS successful-ok
	
	EXPECT time-at-processing OF-TYPE integer IN-GROUP Job-Attributes-tag WITH-VALUE ">0"
	EXPECT attributes-charset OF-TYPE charset WITH-VALUE utf-8
    EXPECT attributes-natural-language OF-TYPE naturalLanguage WITH-VALUE en
	
}
{
	NAME "Wait For Print-Job To Complete."	
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR naturalLanguage attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR name requesting-user-name $user
	ATTR keyword requested-attributes
	    job-id,job-state-reasons,job-originating-user-name,job-state,job-uuid,job-printer-up-time
	
	
	STATUS successful-ok
	EXPECT job-state OF-TYPE enum WITH-VALUE >6 REPEAT-NO-MATCH REPEAT-LIMIT 300
	EXPECT job-state OF-TYPE enum WITH-VALUE 9
	EXPECT job-state-reasons OF-TYPE keyword IN-GROUP job-attributes-tag WITH-VALUE "job-completed-successfully"
	EXPECT job-printer-up-time OF-TYPE integer COUNT 1 IN-GROUP job-attributes-tag WITH-VALUE >0



}