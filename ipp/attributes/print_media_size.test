# Print job operation
# Print_PWG test

################################################################
{
    NAME "  Waiting for printer to be idle."
    OPERATION Get-Jobs

    GROUP operation-attributes-tag
    ATTR charset attributes-charset utf-8
    ATTR naturalLanguage attributes-natural-language en
    ATTR uri printer-uri $uri
    ATTR name requesting-user-name $user
    ATTR keyword which-jobs not-completed

    STATUS successful-ok
    EXPECT !job-id REPEAT-NO-MATCH
}
################################################################
{
        NAME "Sparse Media Size Testing"
        OPERATION Print-Job
	
	
        GROUP operation-attributes-tag
        ATTR charset attributes-charset utf-8
        ATTR naturalLanguage attributes-natural-language en
        ATTR uri printer-uri $uri
        ATTR name requesting-user-name $user
	ATTR mimeMediaType document-format image/pwg-raster
	ATTR boolean ipp-attribute-fidelity false
	#ATTR keyword media-source $media-source

	GROUP job
	#ATTR integer copies 1
	#ATTR enum print-quality 3
	#ATTR keyword print-color-mode monochrome
        #ATTR enum orientation-requested 4
	ATTR collection media-col { 
		MEMBER collection media-size {
			MEMBER integer x-dimension xdim
			MEMBER integer y-dimension ydim
		}
                #MEMBER keyword media-source main
                MEMBER keyword media-type stationery
		#MEMBER integer media-bottom-margin 0
		#MEMBER integer media-left-margin 0
		#MEMBER integer media-right-margin 0
		#MEMBER integer media-top-margin 0
	}


	FILE $filename

        STATUS successful-ok
	STATUS successful-ok-ignored-or-substituted-attributes
	DISPLAY x-dimension
}

###############################################################
{	
	NAME "Get Job Attributes"
	OPERATION Get-Job-Attributes
	GROUP operation-attributes-tag
	ATTR charset attributes-charset utf-8
	ATTR language attributes-natural-language en
	ATTR uri printer-uri $uri
	ATTR integer job-id $job-id
	ATTR name requesting-user-name $user

	STATUS successful-ok
}	
