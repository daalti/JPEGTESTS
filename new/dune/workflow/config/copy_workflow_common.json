{
  "name": "Copy Workflow Common",
  "version": "2.0.0",
  "description": "Common configuration for Copy Operations workflow",
  "initial_state": "HOME",
  
  "states": [
    {
      "name": "HOME",
      "type": "simple",
      "metadata": {
        "description": "Main home screen",
        "view_elements": ["view_ui_main_app"]
      }
    },
    {
      "name": "COPY_LANDING",
      "type": "simple",
      "metadata": {
        "description": "Copy application landing page",
        "view_elements": ["view_copy_screen"],
        "can_exit_to_home": true
      }
    },
    {
      "name": "COPY_OPTIONS_LIST",
      "type": "simple",
      "metadata": {
        "description": "Copy options list view",
        "view_elements": ["view_copy_option_list"]
      }
    },
    {
      "name": "COPY_WIDGET_CARD",
      "type": "simple",
      "metadata": {
        "description": "Copy widget card view",
        "view_elements": ["view_copy_widget_card_screen"]
      }
    },
    {
      "name": "COPY_COLOR_LIST",
      "type": "simple",
      "metadata": {
        "description": "Color selection list",
        "view_elements": ["view_color_list"]
      }
    },
    {
      "name": "COPY_ORIGINAL_PAPER_LIST",
      "type": "simple",
      "metadata": {
        "description": "Original paper type selection list",
        "view_elements": ["view_original_paper_type_list"]
      }
    },
    {
      "name": "COPY_CONTENT_TYPE_LIST",
      "type": "simple",
      "metadata": {
        "description": "Content type selection list",
        "view_elements": ["view_content_type_list"]
      }
    },
    {
      "name": "COPY_RESOLUTION_LIST",
      "type": "simple",
      "metadata": {
        "description": "Resolution selection list",
        "view_elements": ["view_resolution_list"]
      }
    }
  ],  

  "transitions": [
    {
      "from_state": "HOME",
      "to_state": "COPY_LANDING",
      "metadata": {
        "button": "button_copy_app",
        "animation_duration": 4,
        "scrolling": {
          "required": false,
          "container": null,
          "direction": "vertical"
        }
      }
    },
    {
      "from_state": "HOME", 
      "to_state": "COPY_WIDGET_CARD",
      "metadata": {
        "button": "widget_button_goto_copy_app",
        "animation_duration": 1,
        "scrolling": {
          "required": false,
          "container": null,
          "direction": "vertical"
        }
      }
    },
    {
      "from_state": "COPY_LANDING",
      "to_state": "COPY_OPTIONS_LIST",
      "metadata": {
        "button": "button_copy_more_options",
        "animation_duration": 1,
        "scrolling": {
          "required": false,
          "container": null,
          "direction": "vertical"
        }
      }
    },
    {
      "from_state": "COPY_LANDING",
      "to_state": "HOME",
      "metadata": {
        "button": "button_home",
        "animation_duration": 2,
        "scrolling": {
          "required": false,
          "container": null,
          "direction": "vertical"
        }
      }
    },
    {
      "from_state": "COPY_OPTIONS_LIST",
      "to_state": "COPY_LANDING", 
      "metadata": {
        "button": "button_close",
        "animation_duration": 1,
        "scrolling": {
          "required": false,
          "container": null,
          "direction": "vertical"
        }
      }
    },
    {
      "from_state": "COPY_OPTIONS_LIST",
      "to_state": "COPY_COLOR_LIST",
      "metadata": {
        "button": "combo_color",
        "animation_duration": 0.5,
        "scrolling": {
          "required": true,
          "container": "view_copy_option_list", 
          "scrollbar": "options_scrollbar",
          "direction": "vertical",
          "increment": 0.1
        }
      }
    },
    {
      "from_state": "COPY_COLOR_LIST",
      "to_state": "COPY_OPTIONS_LIST",
      "metadata": {
        "auto_transition": true,
        "animation_duration": 0.2
      }
    },
    {
      "from_state": "COPY_OPTIONS_LIST",
      "to_state": "COPY_ORIGINAL_PAPER_LIST",
      "metadata": {
        "button": "combo_original_paper_type",
        "animation_duration": 0.2,
        "scrolling": {
          "required": true,
          "container": "view_copy_option_list",
          "scrollbar": "options_scrollbar", 
          "direction": "vertical",
          "increment": 0.1
        }
      }
    },
    {
      "from_state": "COPY_ORIGINAL_PAPER_LIST",
      "to_state": "COPY_OPTIONS_LIST",
      "metadata": {
        "auto_transition": true,
        "animation_duration": 0.2
      }
    },
    {
      "from_state": "COPY_OPTIONS_LIST",
      "to_state": "COPY_CONTENT_TYPE_LIST",
      "metadata": {
        "button": "combo_content_type_row",
        "animation_duration": 0.2,
        "scrolling": {
          "required": true,
          "container": "view_copy_option_list",
          "scrollbar": "options_scrollbar",
          "direction": "vertical", 
          "increment": 0.1
        }
      }
    },
    {
      "from_state": "COPY_CONTENT_TYPE_LIST",
      "to_state": "COPY_OPTIONS_LIST",
      "metadata": {
        "auto_transition": true,
        "animation_duration": 0.2
      }
    },
    {
      "from_state": "COPY_OPTIONS_LIST",
      "to_state": "COPY_RESOLUTION_LIST",
      "metadata": {
        "button": "combo_resolution",
        "animation_duration": 0.2,
        "scrolling": {
          "required": true,
          "container": "view_copy_option_list",
          "scrollbar": "options_scrollbar",
          "direction": "vertical",
          "increment": 0.1
        }
      }
    },
    {
      "from_state": "COPY_RESOLUTION_LIST",
      "to_state": "COPY_OPTIONS_LIST",
      "metadata": {
        "auto_transition": true,
        "animation_duration": 0.2
      }
    }
  ],  
  "options": [
    {
      "name": "color_mode",
      "type": "combo",
      "locator": "combo_color",
      "container_view": "view_color_list",
      "requires_click_to_open": true,
      "valid_values": {
        "Automatic": "opt_color_auto",
        "Color": "opt_color_color",
        "Grayscale": "opt_color_grayscale",
        "Black Only": "opt_color_blackonly"
      },
      "default_value": "Automatic",
      "validators": [
        {
          "name": "valid_color_mode",
          "type": "enum",
          "params": {
            "values": ["Automatic", "Color", "Grayscale", "Black Only"]
          }
        }
      ],
      "cache_enabled": true,
      "cache_ttl": 60,
      "description": "Select the color mode for copying",
      "metadata": {
        "ui_group": "basic",
        "priority": 1
      }
    },
    {
      "name": "original_paper_type",
      "type": "combo",
      "locator": "combo_original_paper_type",
      "container_view": "view_original_paper_type_list",
      "requires_click_to_open": true,
      "scrollbar": "view_paper_selection_scrollbar",
      "scroll_increment": 0.1,
      "scroll_direction": "vertical",
      "valid_values": {
        "white": "opt_original_paper_white",
        "photo": "opt_original_paper_photo",
        "translucent": "opt_original_paper_translucent",
        "old": "opt_original_paper_old_recycled",
        "blueprint": "opt_original_paper_blueprints",
        "darkBlueprints": "opt_original_paper_dark_blueprints"
      },
      "default_value": "white",
      "validators": [
        {
          "name": "valid_paper_type",
          "type": "enum",
          "params": {
            "values": ["white", "photo", "translucent", "old", "blueprint", "darkBlueprints"]
          }
        }
      ],
      "cache_enabled": true,
      "cache_ttl": 120,
      "description": "Select the type of original paper",
      "metadata": {
        "ui_group": "advanced",
        "priority": 2
      }
    },
    {
      "name": "content_type",
      "type": "combo",
      "locator": ["row_combo_content_type", "combo_content_type"],
      "container_view": "view_content_type_list",
      "scrollbar": "standard_sizes_scrollbar",
      "scroll_increment": 0.1,
      "scroll_direction": "vertical",
      "valid_values": {
        "Mixed": "opt_content_mixed",
        "Photograph": "opt_content_photograph",
        "Text": "opt_content_text",
        "Lines": "opt_content_lines",
        "Image": "opt_content_image"
      },
      "default_value": "Mixed",
      "validators": [
        {
          "name": "valid_content_type",
          "type": "enum",
          "params": {
            "values": ["Mixed", "Photograph", "Text", "Lines", "Image"]
          }
        }
      ],
      "description": "Select the type of content being copied",
      "metadata": {
        "ui_group": "advanced",
        "priority": 3
      }
    },
    {
      "name": "resolution",
      "type": "combo",
      "locator": ["row_combo_resolution", "combo_resolution"],
      "container_view": "view_resolution_list",
      "requires_click_to_open": true,
      "scrollbar": "standard_sizes_scrollbar",
      "scroll_increment": 0.1,
      "scroll_direction": "vertical",
      "valid_values": {
        "200dpi": "opt_resolution_200",
        "300dpi": "opt_resolution_300",
        "600dpi": "opt_resolution_600"
      },
      "default_value": "300dpi",
      "validators": [
        {
          "name": "valid_resolution",
          "type": "enum",
          "params": {
            "values": ["200dpi", "300dpi", "600dpi"]
          }
        }
      ],
      "transformers": [
        {
          "name": "normalize_dpi",
          "type": "lowercase"
        }
      ],
      "description": "Select the copy resolution",
      "metadata": {
        "ui_group": "quality",
        "priority": 1,
        "affects_performance": true
      }
    },
    {
      "name": "invert_blueprints",
      "type": "toggle",
      "locator": "toggle_invert_blueprint",
      "default_value": false,
      "dependencies": ["original_paper_type"],
      "description": "Invert colors for blueprint copying",
      "metadata": {
        "ui_group": "advanced",
        "priority": 5,
        "conditional_display": {
          "when": "original_paper_type",
          "equals": ["blueprint", "darkBlueprints"]
        }
      }
    },
    {
      "name": "number_of_copies",
      "type": "spinbox",
      "locator": "spinbox_number_of_copies",
      "default_value": 1,
      "min_value": 1,
      "max_value": 99,
      "validators": [
        {
          "name": "valid_copies_range",
          "type": "range",
          "params": {
            "min": 1,
            "max": 99
          }
        }
      ],
      "transformers": [
        {
          "name": "round_copies",
          "type": "round",
          "params": {
            "decimals": 0
          }
        }
      ],
      "cache_enabled": false,
      "description": "Set the number of copies to make",
      "metadata": {
        "ui_group": "basic",
        "priority": 2
      }
    }
  ],
  
  "metadata": {
    "platform": "DUNE",
    "ui_type": "WORKFLOW",
    "ui_size": "XL",
    "feature": "COPY",
    "supported_locales": ["en_US", "es_ES", "fr_FR"],
    "performance_thresholds": {
      "navigation_timeout": 5.0,
      "option_selection_timeout": 2.0,
      "start_operation_timeout": 10.0
    },
    "error_recovery": {
      "max_retries": 3,
      "retry_delay": 1.0,
      "fallback_state": "HOME"
    }
  }
}