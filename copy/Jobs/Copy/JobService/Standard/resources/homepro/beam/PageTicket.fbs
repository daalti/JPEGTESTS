include "Uuid.fbs";
include "MediaSizeId.fbs";
include "DocumentFileFormat.fbs";

namespace dune.job;

enum LayerId : short
{
  UNKNOWN,
  CMYK_FRONT,
  WHITE,
  CMYK_BACK
}

table PageTicketFb {
  pageId:dune.framework.core.uuid.fbs.Uuid;
  mediaSize:dune.imaging.types.MediaSizeId;
  previewProgress:ubyte;
  lowResPreview:PreviewFb;
  highResPreview:PreviewFb;
  layers:[LayerFb];
  storePath : string;
  fileHandle : uint32;
  pageNumber:uint=0;
  documentPath: string;
}
root_type PageTicketFb;

table LayerFb
{
  layerId:LayerId;
  progress:ubyte;
  highResPreview:PreviewFb;
  lowResPreview:PreviewFb;
}
root_type LayerFb;

table PreviewFb
{
  path:string;
  widthPx:uint32;
  heightPx:uint32;
  progress:ubyte;
  resolution:uint32;
  docFileFormat:dune.imaging.types.DocumentFileFormat;
  documentPath: string;
}
root_type PreviewFb;
