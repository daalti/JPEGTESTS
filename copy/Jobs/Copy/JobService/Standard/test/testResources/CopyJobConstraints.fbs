// DUNE_NOT_PERSISTENT
include "MediaSizeId.fbs";
include "MediaType.fbs";
include "MediaSource.fbs";
include "Plex.fbs";
include "SheetCollate.fbs";
include "PrintQuality.fbs";
include "CopyMargins.fbs";
include "PrintingOrder.fbs";
include "ScanJobConstraint.fbs";
include "MediaDestinationId.fbs";
include "MediaFamily.fbs";
include "ColorMode.fbs";
include "FinishingOptions.fbs";

namespace dune.copy.Jobs.Copy;

table MediaSizeFb {
    id: dune.imaging.types.MediaSizeId;
    mediaOrientation: dune.imaging.types.MediaOrientation;
}

table MediaTypeFb {
    id: dune.imaging.types.MediaIdType;
}

table MediaSupportedSizeFb {
    size: MediaSizeFb;
    supportedMediaSource: [dune.imaging.types.MediaSource];
    duplex: [dune.imaging.types.Plex];
}

table MediaSupportedTypesFb {
    type: MediaTypeFb;
    supportedMediaSource: [dune.imaging.types.MediaSource];
    duplex: [dune.imaging.types.Plex];
    colorMode: [dune.imaging.types.ColorMode];
}

table NameValueMatchingIdFb {
    nameValue:string;
    stringId:string;
}

table CopyJobConstraintsFb {
    /* Constraint for Copy */
    plexMode: [dune.imaging.types.Plex];
    plexBinding: [dune.imaging.types.PlexBinding];
    copyMargins: [dune.imaging.types.CopyMargins];
    collate: [dune.copy.SheetCollate];
    minCopies: int=10;
    maxCopies: int=80;
    stepCopies: double=2.0;
    printQuality: [dune.imaging.types.PrintQuality];
    mediaSupportedSize: [MediaSupportedSizeFb];
    mediaSupportedType: [MediaSupportedTypesFb];
    mediaPrintSupportedSource: [dune.imaging.types.MediaSource];
    mediaPrintSupportedSize: [dune.imaging.types.MediaSizeId];
    mediaPrintSupportedType: [dune.imaging.types.MediaIdType];
    mediaPrintSupportedDestinations: [dune.imaging.types.MediaDestinationId];
    stapleOption:[dune.imaging.types.StapleOptions];
    punchOption: [dune.imaging.types.PunchingOptions];
    stapleOptionStr: [NameValueMatchingIdFb](cpp_ptr_type:"std::shared_ptr");
    punchOptionStr: [NameValueMatchingIdFb](cpp_ptr_type:"std::shared_ptr");
    finisherConstraintString: [NameValueMatchingIdFb](cpp_ptr_type:"std::shared_ptr");
    finisherOptionStrings: [NameValueMatchingIdFb](cpp_ptr_type:"std::shared_ptr");
    jobOffset:[dune.imaging.types.JobOffsetMode];
    foldOption:[dune.imaging.types.FoldingOptions];
    minSheetsPerSetForCFold: int=0;
    maxSheetsPerSetForCFold: int=0;
    minSheetsPerSetForVFold: int=0;
    maxSheetsPerSetForVFold: int=0;
    bookletMakerOption: [dune.imaging.types.BookletMakingOptions];
    minSheetsPerSetForFoldAndStitch: int=0;
    maxSheetsPerSetForFoldAndStitch: int=0;
    deviceSetsFoldAndStitchSheetsEnabled:[bool];
    fitToPageIncludeMargin:[bool];

    /* Constraint for Scan */
    scanJobConstraint: dune.scan.Jobs.Scan.ScanJobConstraintFb;

    printingOrder: [dune.imaging.types.PrintingOrder];
    minRotation: int=0;
    maxRotation: int=270;
    stepRotation: int=90;
    mediaFamily: [dune.imaging.types.MediaFamily];
    autoRotate: [bool];
    foldingStyleIds: [int];
}